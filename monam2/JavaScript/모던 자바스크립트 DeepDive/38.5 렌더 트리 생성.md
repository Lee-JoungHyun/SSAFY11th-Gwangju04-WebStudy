## 정리
- 파싱된 DOM(HTML)과 CSSOM(CSS)를 이용해 렌더 트리가 생성된다. 렌더 트리는 브라우저에 렌더링 되는 요소로 구성된 트리 형태의 구조다. `display: none` 과 같은 비표시 노드, `meta` , `script` 등의 속성 태그는 포함되지 않는다.
- **DOM+CSSOM → Render Tree → Flow → Paint** 의 과정을 거친다.
- Flow는 HTML 요소의 레이아웃의 크기, 위치를 계산하고 배치하는 작업이다.
- Paint는 HTML 요소의 스타일에 따라 픽셀 단위로 렌더링하는 작업이다.
- 위의 두 과정을 렌더링 이라고 한다.
- 리페인트, 리플로우의 과정 전체를 리렌더링이라고 한다.
---

렌더링 엔진은 서버로부터 응답된 HTML과 CSS를 파싱하여 각각 **DOM과 CSSOM을 생성**한다. 그리고 DOM과 CSSOM은 렌더링을 위해 **렌더 트리(Render Tree)로 결합**된다.

### 렌더 트리란?

렌더 트리는 렌더링을 위한 트리 형태의 자료구조이다. 오직 렌더링만을 위한 구조이므로, 브라우저 화면에 렌더링되지 않는 노드( `meta` , `script` 태그 등)와 CSS에 의해 비표시되는 노드(`display: none` )들은 포함하지 않는다.

**즉, 렌더 트리는 브라우저 화면에 렌더링되는 노드만으로 구성된다.**


완성된 렌더트리는 각 HTML 요소의 레이아웃(위치, 크기)을 계산하는 데 사용되며, 브라우저 화면에 픽셀을 렌더링하는 페인팅(painting) 처리에 입력된다.


브라우저의 렌더링 과정은 반복해서 실행될 수 있다. 다시말해서 재실행될 수 있다.

아래와 같은 경우 반복해서 레이아웃 계산과 페인팅이 재실행된다.

- 자바스크립트에 의한 노드 추가 또는 삭제
- 브라우저 창의 리사이징에 의한 뷰포트(viewport) 크기 변경
- HTML 요소의 레이아웃(크기, 위치)에 변경을 발생시키는 width/height, margin, padding, border, display, position, top/right/bottom/left 등의 스타일 변경

### 레이아웃 계산과 페인팅을 다시 실행하는 리렌더링은 비용이 많이드는, 즉 성능에 악영향을 주는 작업이다. → 리렌더링의 반복을 줄여야 한다.

리페인팅 vs 리플로우 vs 리렌더링

- 페인팅(리페인팅)
    
    브라우저 화면에 픽셀을 렌더링. 이때 주로 스타일 등의 요소가 적용된다.
    
- 플로우(리플로우)
    
    렌더링될 요소를 레이아웃 배치하는 것.
    
- 렌더링(리렌더링)
    
    페인팅, 플로우 된 요소를 브라우저 화면에 그리는 것.
