# 객체지향 프로그래밍을 향해

## 협력, 객체, 클래스

- 객체지향은 객체를 지향하는 것
- 클래스를 결정한 후 클래스에 어떤 속성과 메서드가 필요한지 고민하는 것이 아님
- 클래스가 아닌 객체에 초점을 맞춰야함
	- 클래스 고민 전, 어떤 객체가 필요한지 고민
		- 어떤 상태와 어떤 행동을 가지는지
	- 객체를 공동체의 일원으로 봐야함
		- 고립된 존재가 아닌 협력에 참여하는 협력자로 바라보기
---
## 도메인의 구조를 따르는 프그램 구조
- 소프트웨어는 사용자가 원하는 어떤 문제를 해겨하기 위함임
- 프로그램을 사용하는 분야를 도메인이라고 부름

객체 지향 패러다임이 강력한 이유 
--> 요구사항을 분석하는 초기 단꼐부터 프로그램을 구현하는 마지막 단계까지 객체라는 동일한 추상화 기법을 사용할 수 있기 떄문임

- 요구사항과 프로그램을 객체라는 동일한 관점에서 보기
- 클래스 이름은 도메인 개념의 이름과 동일하게
- 클래스 사이의 관계도 최대한 도메인 개념 사이에 맺어진 관계와 유사하게 구현

---
# 클래스 구현하기

```java
package MovieService;

import java.time.LocalDateTime;

public class Screening {
    private Movie movie;
    private int sequence;
    private LocalDateTime whenScreened;

    public Screening(Movie movie, int sequence, LocalDateTime whenScreened) {
        this.movie = movie;
        this.sequence = sequence;
        this.whenScreened = whenScreened;
    }

    public LocalDateTime getStartTime() {
        return whenScreened;
    }

    public boolean isSequence(int sequence) {
        return this.sequence == sequence;
    }

    public Money getMovieFee() {
        return movie.getFee();
    }
}

```

- 인스턴스 변수의 가시성은 private, 메서드의 가시성은 public
- **클래스의 경계를 구분짓기**
	- 어떤 부분을 공개, 감출지 결정


### 클래스와 내부와 외부를 구분해야하는 이유
- 경계의 명확성이 객체의 자율성을 보장하기 때문
- 프로그래머에게 구현의 자유를 제공
---
## 자율적인 객체

1. 객체는 상태와 행동을 함께 가지는 복합적인 존재
2. 객체가 스스로 판단하고 행동하는 자율적인 존재

- 데이터와 기능을 객체 내부로 함께 묶는 것을 *캡슐화*라고 함
	- 더 나아가 접근 제어 메커니즘도 제공
	- 많은 언어들은 접근 수정자를 제공(private  protected public)

- 객체 내부에 대한 접근을 통제하는 이유 -> 객체를 자율적인 존재로 만들기 위함
- 외부의 간섭을 최소화해야함

- 캡슐화와 접근 제어는 객체를 두 부분으로 나눔
	- 외부에서 접근 가능한 부분 --> 퍼블릭 인터페이스(public interface)
	- 외부에서는 접근 불가능, 오직 내부에서만 접근 가능 --> 구현(implementation)


> 인터페이스와 구현의 분리(separaorion of interface and implementation 원칙

---
## 프로그래머의 자유

- 클래스 작성자
	- 새로운 데이터 타입을 프로그램에 추가
- 클라이언트 플오그래머
	- 클래스 작성자가 추가한 데이터 타입을 사용함

- 클라이언트 프로그래머의 목표
	- 애플리케이션을 빠르고 안정적으로 구축하는 것
- 클래스 작성자
	- 필요한 부분만 공개, 나머지는 은닉
	- 은닉을 통해서 클라이언트 프로그래머에게 구현에 대한 자유를 줌
	- 구현 은닉(implementation hiding)이라고 함

클라이언트 프로그래머는 내부 구현은 무시한 채 인터페이스만 알고 있어도 클래스 사용 가능
--> 내부 구현 마음대로 변경

---
# 협력하는 객체들의 공동체

- 의미를 좀 더 명시적이고 분명하게 표현할 수 있다면 객체를 사용해서 해당 개념을 구현
- 개념을 명시적으로 표현하는 것은 전체적인 설꼐의 명확성과 유연성을 높이는 첫 걸음
- 시스템의 어떤 기능을 구현하기 위해 객체들 사이에 이뤄지는 상호작용을 협력(Collaboration)이라고 부름
## 협력에 관한 짧은 이야기
- 객체의 내부 상태는 외부에서 접근하지 못하도록 감춰야 함
- 퍼블릭 인텉페이스를 통해 내부 상태에 접근할 수 있도록 허용
- 객체는 다른 객체의 인터페이스에 공개된 행동을 수행하도록 요청 가능
- 요청 받은 객체는 자율적인 방법에 따라 요청 처리 후 응답

- 메시지와 메서드의 구분에서부터 다형성의 개념이 출발함